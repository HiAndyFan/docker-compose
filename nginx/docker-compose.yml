services:
  web:
    image: nginx
    container_name: nginx
    volumes:
     - ./templates/:/etc/nginx/templates/
     - ./ssl/:/etc/nginx/ssl/
     - ./log/:/var/log/nginx/
     - ./blog/:/var/www/blog/
     - ./word-spelling/:/var/www/word-spelling/
     - ./download/:/var/www/download/
     - ./nginx.conf/:/etc/nginx/nginx.conf/
    ports:
     - "80:80"
     - "443:443"
    environment:
     - NGINX_HOST=newthread.run
     - NGINX_PORT=443 ssl
     - SSL_CERT=/etc/nginx/ssl/cloudflare/newthread.run.pem
     - SSL_KEY=/etc/nginx/ssl/cloudflare/private.key
    restart: unless-stopped